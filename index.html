<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ุงูุฃูุนุงุจ ุงูุชุนููููุฉ โ Edu Games</title>
  <!-- Tailwind โ CDN (build-free) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Google Fonts (Tajawal & Inter) -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    body {font-family: 'Tajawal', 'Inter', sans-serif; background:#f9fafb; color:#111827;}
    /* basic smooth fade-in for dynamic content */
    .fade {animation:fade .35s ease-in forwards; opacity:0;} @keyframes fade{to{opacity:1}}
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <!-- โฆ Top-bar (Language switch) -->
  <header class="shadow bg-white sticky top-0 z-50">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
      <h1 class="text-xl font-bold select-none">๐ฎ Edu Games</h1>
      <button id="langToggle" class="px-4 py-1 rounded border border-gray-300 text-sm">English</button>
    </div>
  </header>

  <!-- โฆ Main Navigation (4 subjects + Add Game) -->
  <nav class="bg-gradient-to-r from-cyan-500 to-blue-500 text-white">
    <ul class="container mx-auto px-4 py-4 grid grid-cols-2 md:grid-cols-5 gap-4 text-center text-lg font-semibold">
      <li><button data-section="science" class="subjectBtn w-full py-2">๐ฌ <span data-i18n="science">ุงูุนููู</span></button></li>
      <li><button data-section="math" class="subjectBtn w-full py-2">๐งฎ <span data-i18n="math">ุงูุฑูุงุถูุงุช</span></button></li>
      <li><button data-section="arabic" class="subjectBtn w-full py-2">๐ <span data-i18n="arabic">ุงููุบุฉ ุงูุนุฑุจูุฉ</span></button></li>
      <li><button data-section="english" class="subjectBtn w-full py-2">๐ <span data-i18n="english">ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ</span></button></li>
      <li><button data-section="add" class="subjectBtn w-full py-2">โ <span data-i18n="addGame">ุฃุถู ูุนุจุชู</span></button></li>
    </ul>
  </nav>

  <!-- โฆ Dynamic content root -->
  <main id="content" class="flex-1 container mx-auto px-4 py-8"></main>

  <!-- โฆ Footer -->
  <footer class="bg-gray-100 text-center py-4 text-sm">
    ุฅุนุฏุงุฏ: ุณุงูู ุงููุตุงุจู โ Prepared by Sami Al-Qasabi
  </footer>

  <!-- โฌโฌโฌโฌโฌ Templates โฌโฌโฌโฌโฌ -->
  <!-- Science game (Planet Explorer)  โ Entire original markup/css/js lives here -->
  <template id="scienceTpl">
    <!-- ====================== BEGIN SCIENCE GAME CODE ====================== -->
    <style>
      body {
          font-family: 'Tajawal', sans-serif;
          background-color: #0a0a2a;
          color: white;
          overflow-x: hidden;
      }

      .stars {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: -1;
      }

      .star {
          position: absolute;
          background-color: white;
          border-radius: 50%;
          animation: twinkle 5s infinite;
      }

      @keyframes twinkle {
          0% { opacity: 0.2; }
          50% { opacity: 1; }
          100% { opacity: 0.2; }
      }

      .planet-animation {
          animation: float 6s infinite ease-in-out;
      }

      @keyframes float {
          0% { transform: translateY(0px) rotate(0deg); }
          50% { transform: translateY(-20px) rotate(5deg); }
          100% { transform: translateY(0px) rotate(0deg); }
      }

      .glow {
          filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.7));
      }

      .crystal {
          animation: crystal-glow 2s infinite alternate;
      }

      @keyframes crystal-glow {
          0% { filter: drop-shadow(0 0 5px rgba(100, 220, 255, 0.7)); }
          100% { filter: drop-shadow(0 0 15px rgba(100, 220, 255, 1)); }
      }

      .firework {
          position: absolute;
          width: 5px;
          height: 5px;
          border-radius: 50%;
          animation: explode 1s forwards;
      }

      @keyframes explode {
          0% { transform: scale(0); opacity: 1; }
          100% { transform: scale(20); opacity: 0; }
      }

      .badge {
          transition: all 0.3s;
      }

      .badge:hover {
          transform: scale(1.1);
          filter: brightness(1.2);
      }

      .option:hover {
          transform: scale(1.03);
          filter: brightness(1.1);
      }

      .btn-hover:hover {
          transform: translateY(-3px);
          box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
      }

      .planet-card {
          transition: all 0.3s ease;
      }

      .planet-card:hover {
          transform: translateY(-10px);
      }
    </style>

    <!-- ุงูุฎูููุฉ ุงููุฌููุฉ -->
    <div id="stars" class="stars"></div>

    <!-- ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ -->
    <div id="main-menu" class="min-h-screen flex flex-col items-center justify-center p-4 fade">
      <div class="text-center">
        <h1 class="text-5xl md:text-7xl font-bold mb-6 text-blue-300 glow">ูุณุชูุดู ุงููุถุงุก ุงูุตุบูุฑ</h1>
        <p class="text-xl md:text-2xl mb-10 text-blue-100">ุงูุทูู ูู ุฑุญูุฉ ูุงุณุชูุดุงู ููุงูุจ ุงููุฌููุนุฉ ุงูุดูุณูุฉ ูุฌูุน ุจููุฑุงุช ุงููุนุฑูุฉ!</p>

        <div class="relative w-64 h-64 mx-auto my-8">
          <svg class="planet-animation" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
            <circle cx="100" cy="100" r="80" fill="#3498db" />
            <circle cx="50" cy="70" r="15" fill="#2980b9" />
            <circle cx="130" cy="50" r="20" fill="#2980b9" />
            <circle cx="150" cy="120" r="10" fill="#2980b9" />
            <circle cx="80" cy="150" r="25" fill="#2980b9" />
            <ellipse cx="100" cy="100" rx="95" ry="30" fill="transparent" stroke="rgba(255,255,255,0.3)" stroke-width="2" />
          </svg>
          <div class="absolute top-0 left-0 w-full h-full flex items-center justify-center">
            <div class="crystal w-16 h-16">
              <svg viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
                <polygon points="25,0 50,25 25,50 0,25" fill="rgba(100, 220, 255, 0.7)" />
              </svg>
            </div>
          </div>
        </div>

        <div class="mt-8">
          <button id="start-btn" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xl font-bold py-4 px-10 rounded-full transition-all duration-300 btn-hover">
            ุงุจุฏุฃ ุงููููุฉ
          </button>
        </div>

        <div class="mt-8">
          <input type="text" id="player-name" placeholder="ุฃุฏุฎู ุงุณูู" class="bg-blue-900 bg-opacity-50 text-white border border-blue-400 rounded-lg py-2 px-4 text-center w-64">
        </div>
      </div>
    </div>

    <!-- ุดุงุดุฉ ุงุฎุชูุงุฑ ุงูููุงูุจ -->
    <div id="planet-selection" class="min-h-screen py-10 px-4 hidden">
      <div class="max-w-6xl mx-auto">
        <div class="flex justify-between items-center mb-8">
          <h2 class="text-3xl font-bold text-blue-300">ุงุฎุชุฑ ูููุจุงู ููุงุณุชูุดุงู</h2>
          <div class="flex items-center gap-4">
            <div class="bg-blue-900 bg-opacity-50 rounded-lg py-2 px-4">
              <span id="player-display" class="text-lg">ุงููุณุชูุดู: </span>
            </div>
            <div class="bg-blue-900 bg-opacity-50 rounded-lg py-2 px-4">
              <span class="text-lg">ุงูููุงุท: <span id="score-display">0</span></span>
            </div>
          </div>
        </div>

        <div class="mb-8">
          <div class="w-full bg-blue-900 bg-opacity-30 rounded-full h-4">
            <div id="progress-bar" class="bg-gradient-to-r from-blue-400 to-purple-500 h-4 rounded-full" style="width: 0%"></div>
          </div>
          <div class="text-center mt-2 text-blue-200">
            <span id="progress-text">0/8 ููุงูุจ ููุชุดูุฉ</span>
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
          <!-- ุงูููุงูุจ ุณุชุถุงู ููุง ุจุงูุฌุงูุงุณูุฑูุจุช -->
        </div>

        <div class="mt-10">
          <h3 class="text-2xl font-bold text-blue-300 mb-4">ุดุงุฑุงุชู</h3>
          <div id="badges-container" class="flex flex-wrap gap-4">
            <!-- ุงูุดุงุฑุงุช ุณุชุถุงู ููุง ุจุงูุฌุงูุงุณูุฑูุจุช -->
          </div>
        </div>
      </div>
    </div>

    <!-- ุดุงุดุฉ ุงููููุจ ูุงูุฃุณุฆูุฉ -->
    <div id="planet-screen" class="min-h-screen py-10 px-4 hidden">
      <div class="max-w-6xl mx-auto">
        <div class="flex justify-between items-center mb-8">
          <button id="back-to-selection" class="bg-blue-800 hover:bg-blue-700 text-white py-2 px-4 rounded-lg transition-all duration-300">
            ุงูุนูุฏุฉ ูููุงุฆูุฉ
          </button>
          <div class="flex items-center gap-4">
            <div class="bg-blue-900 bg-opacity-50 rounded-lg py-2 px-4">
              <span id="planet-score-display" class="text-lg">ุงูููุงุท: 0</span>
            </div>
          </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <div class="bg-blue-900 bg-opacity-20 rounded-2xl p-6 flex flex-col items-center">
            <h2 id="planet-name" class="text-3xl font-bold text-center mb-6 text-blue-300"></h2>
            <div id="planet-image" class="w-64 h-64 planet-animation mb-6"></div>
            <div id="planet-facts" class="w-full space-y-4">
              <!-- ุงูุญูุงุฆู ุณุชุถุงู ููุง ุจุงูุฌุงูุงุณูุฑูุจุช -->
            </div>
          </div>

          <div class="bg-blue-900 bg-opacity-20 rounded-2xl p-6">
            <h3 class="text-2xl font-bold mb-6 text-center text-blue-300">ุงุฎุชุจุฑ ูุนูููุงุชู!</h3>
            <div id="quiz-container" class="space-y-8">
              <!-- ุงูุฃุณุฆูุฉ ุณุชุถุงู ููุง ุจุงูุฌุงูุงุณูุฑูุจุช -->
            </div>
            <div class="mt-8 text-center">
              <button id="submit-answers" class="bg-gradient-to-r from-green-500 to-blue-500 text-white text-lg font-bold py-3 px-8 rounded-lg transition-all duration-300 btn-hover">
                ุชุญูู ูู ุฅุฌุงุจุงุชู
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- ุดุงุดุฉ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ -->
    <div id="final-screen" class="min-h-screen flex flex-col items-center justify-center p-4 hidden">
      <div class="bg-blue-900 bg-opacity-30 rounded-2xl p-8 max-w-2xl w-full text-center">
        <h2 class="text-4xl font-bold mb-6 text-blue-300">ูุจุฑูู!</h2>
        <p class="text-xl mb-4">ููุฏ ุฃูููุช ุฑุญูุชู ุนุจุฑ ุงููุฌููุนุฉ ุงูุดูุณูุฉ</p>

        <div class="my-8 border-4 border-blue-400 rounded-lg p-6 bg-gradient-to-b from-blue-900 to-purple-900">
          <h3 class="text-2xl font-bold mb-2 text-yellow-300">ุดูุงุฏุฉ</h3>
          <h4 class="text-3xl font-bold mb-4 text-blue-200">ูุณุชูุดู ุงูููุงูุจ ุงูุตุบูุฑ</h4>
          <p class="text-xl mb-2">ุชููุญ ุฅูู</p>
          <p id="certificate-name" class="text-2xl font-bold mb-4 text-white"></p>
          <p class="text-lg">ูุฅููุงู ุงุณุชูุดุงู ุงููุฌููุนุฉ ุงูุดูุณูุฉ ุจูุฌุงุญ</p>
          <p class="text-lg mt-2">ุงูููุงุท ุงูููุงุฆูุฉ: <span id="final-score" class="font-bold"></span></p>
        </div>

        <button id="play-again" class="bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xl font-bold py-3 px-8 rounded-full transition-all duration-300 btn-hover mt-4">
          ุงูุนุจ ูุฑุฉ ุฃุฎุฑู
        </button>
      </div>
    </div>

    <!-- ูุงูุฐุฉ ููุจุซูุฉ ููุฅุฌุงุจุฉ ุงูุตุญูุญุฉ -->
    <div id="correct-popup" class="fixed top-0 left-0 w-full h-full flex items-center justify-center bg-black bg-opacity-70 z-50 hidden">
      <div class="bg-gradient-to-r from-green-600 to-blue-600 rounded-xl p-6 text-center max-w-md">
        <h3 class="text-2xl font-bold mb-4 text-white">ุฅุฌุงุจุฉ ุตุญูุญุฉ!</h3>
        <div class="w-24 h-24 mx-auto my-4 crystal">
          <svg viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
            <polygon points="25,0 50,25 25,50 0,25" fill="rgba(100, 220, 255, 0.7)" />
          </svg>
        </div>
        <p class="text-xl mb-4 text-white">ููุฏ ุญุตูุช ุนูู ุจููุฑุฉ ูุนุฑูุฉ!</p>
        <button id="continue-btn" class="bg-white text-blue-800 text-lg font-bold py-2 px-6 rounded-lg transition-all duration-300 btn-hover">
          ุงุณุชูุฑ
        </button>
      </div>
    </div>

    <!-- ูุงูุฐุฉ ููุจุซูุฉ ููุดุงุฑุฉ ุงูุฌุฏูุฏุฉ -->
    <div id="badge-popup" class="fixed top-0 left-0 w-full h-full flex items-center justify-center bg-black bg-opacity-70 z-50 hidden">
      <div class="bg-gradient-to-r from-purple-600 to-blue-600 rounded-xl p-6 text-center max-w-md">
        <h3 class="text-2xl font-bold mb-4 text-white">ุดุงุฑุฉ ุฌุฏูุฏุฉ!</h3>
        <div id="badge-image" class="w-32 h-32 mx-auto my-4"></div>
        <p id="badge-name" class="text-xl mb-4 text-white"></p>
        <button id="badge-continue-btn" class="bg-white text-blue-800 text-lg font-bold py-2 px-6 rounded-lg transition-all duration-300 btn-hover">
          ุฑุงุฆุน!
        </button>
      </div>
    </div>

    <script>
      // ุจูุงูุงุช ุงูููุงูุจ
      const planets = [
        {
          id: 'mercury',
          name: 'ุนุทุงุฑุฏ',
          color: '#A9A9A9',
          facts: [
            'ุฃูุฑุจ ูููุจ ุฅูู ุงูุดูุณ',
            'ููู ูุงุญุฏ ุนูู ุนุทุงุฑุฏ ูุนุงุฏู 59 ูููุงู ุฃุฑุถูุงู',
            'ุฏุฑุฌุฉ ุงูุญุฑุงุฑุฉ ุชุชุฑุงูุญ ุจูู -173ยฐู ู427ยฐู',
            'ููุณ ูู ุฃููุงุฑ ุทุจูุนูุฉ'
          ],
          questions: [
            {
              question: 'ูุง ูู ุชุฑุชูุจ ูููุจ ุนุทุงุฑุฏ ูู ุงูุดูุณุ',
              options: ['ุงูุฃูู', 'ุงูุซุงูู', 'ุงูุซุงูุซ', 'ุงูุฑุงุจุน'],
              answer: 0
            },
            {
              question: 'ูู ุนุฏุฏ ุงูุฃููุงุฑ ุงูุชู ุชุฏูุฑ ุญูู ุนุทุงุฑุฏุ',
              options: ['ููุฑ ูุงุญุฏ', 'ููุฑุงู', 'ุซูุงุซุฉ ุฃููุงุฑ', 'ูุง ููุฌุฏ ุฃููุงุฑ'],
              answer: 3
            },
            {
              question: 'ูุง ูู ุฃุนูู ุฏุฑุฌุฉ ุญุฑุงุฑุฉ ุนูู ุณุทุญ ุนุทุงุฑุฏุ',
              options: ['200ยฐู', '300ยฐู', '427ยฐู', '500ยฐู'],
              answer: 2
            }
          ],
          badge: 'ุฎุจูุฑ ุนุทุงุฑุฏ'
        },
        {
          id: 'venus',
          name: 'ุงูุฒูุฑุฉ',
          color: '#E8B66B',
          facts: [
            'ุซุงูู ูููุจ ูู ุงูุดูุณ',
            'ูุฏูุฑ ุญูู ููุณู ุจุดูู ูุนุงูุณ ููุนุธู ุงูููุงูุจ',
            'ุฃูุซุฑ ุงูููุงูุจ ุญุฑุงุฑุฉ ุจุณุจุจ ุงูุบูุงู ุงูุฌูู ุงููุซูู',
            'ููุนุฑู ุจุงุณู "ุชูุฃู ุงูุฃุฑุถ" ุจุณุจุจ ุชุดุงุจู ุงูุญุฌู'
          ],
          questions: [
            {
              question: 'ููุงุฐุง ููุนุชุจุฑ ูููุจ ุงูุฒูุฑุฉ ุงูุฃูุซุฑ ุญุฑุงุฑุฉุ',
              options: ['ูุฃูู ุงูุฃูุฑุจ ููุดูุณ', 'ุจุณุจุจ ุบูุงูู ุงูุฌูู ุงููุซูู', 'ุจุณุจุจ ุฏูุฑุงูู ุงูุจุทูุก', 'ุจุณุจุจ ูููู'],
              answer: 1
            },
            {
              question: 'ูุงุฐุง ููุทูู ุนูู ูููุจ ุงูุฒูุฑุฉ ุฃูุถุงูุ',
              options: ['ุงููููุจ ุงูุฃุญูุฑ', 'ุชูุฃู ุงูุฃุฑุถ', 'ุงููููุจ ุงูุนููุงู', 'ุงููููุจ ุงููุงุณู'],
              answer: 1
            }
          ],
          badge: 'ูุณุชูุดู ุงูุฒูุฑุฉ'
        },
        {
          id: 'earth',
          name: 'ุงูุฃุฑุถ',
          color: '#6B93D6',
          facts: [
            'ุงููููุจ ุงููุญูุฏ ุงููุนุฑูู ุจูุฌูุฏ ุญูุงุฉ ุนููู',
            '71% ูู ุณุทุญู ูุบุทู ุจุงููุงุก',
            'ูู ููุฑ ุทุจูุนู ูุงุญุฏ',
            'ูููู ุฏูุฑุฉ ูุงููุฉ ุญูู ุงูุดูุณ ูู 365.25 ูููุงู'
          ],
          questions: [
            {
              question: 'ูุง ูู ูุณุจุฉ ุงููุงุก ุนูู ุณุทุญ ุงูุฃุฑุถุ',
              options: ['50%', '60%', '71%', '80%'],
              answer: 2
            },
            {
              question: 'ูู ุนุฏุฏ ุงูุฃููุงุฑ ุงูุทุจูุนูุฉ ููุฃุฑุถุ',
              options: ['ูุง ููุฌุฏ', 'ููุฑ ูุงุญุฏ', 'ููุฑุงู', 'ุซูุงุซุฉ ุฃููุงุฑ'],
              answer: 1
            },
            {
              question: 'ูู ุชุณุชุบุฑู ุงูุฃุฑุถ ูุชููู ุฏูุฑุฉ ูุงููุฉ ุญูู ุงูุดูุณุ',
              options: ['30 ูููุงู', '100 ููู', '365.25 ูููุงู', '500 ููู'],
              answer: 2
            }
          ],
          badge: 'ุญุงูู ุงูุฃุฑุถ'
        },
        {
          id: 'mars',
          name: 'ุงููุฑูุฎ',
          color: '#E27B58',
          facts: [
            'ููุนุฑู ุจุงุณู "ุงููููุจ ุงูุฃุญูุฑ" ุจุณุจุจ ุฃูุณูุฏ ุงูุญุฏูุฏ ุนูู ุณุทุญู',
            'ูุญุชูู ุนูู ุฃุนูู ุฌุจู ูู ุงููุฌููุนุฉ ุงูุดูุณูุฉ (ุฃููููุจูุณ ูููุณ)',
            'ูู ููุฑุงู ุตุบูุฑุงู: ููุจูุณ ูุฏูููุณ',
            'ููู ุงููุฑูุฎ ูุณูู "ุณูู" ููุฏุชู 24.6 ุณุงุนุฉ ุฃุฑุถูุฉ'
          ],
          questions: [
            {
              question: 'ููุงุฐุง ููุณูู ุงููุฑูุฎ ุจุงููููุจ ุงูุฃุญูุฑุ',
              options: ['ุจุณุจุจ ุญุฑุงุฑุชู ุงูุนุงููุฉ', 'ุจุณุจุจ ุฃูุณูุฏ ุงูุญุฏูุฏ ุนูู ุณุทุญู', 'ุจุณุจุจ ุงูุบุงุฒุงุช ูู ุบูุงูู ุงูุฌูู', 'ุจุณุจุจ ุงูุนูุงุณ ุถูุก ุงูุดูุณ ุนููู'],
              answer: 1
            },
            {
              question: 'ูุง ุงุณู ุฃุนูู ุฌุจู ูู ุงููุฌููุนุฉ ุงูุดูุณูุฉ ุงูููุฌูุฏ ุนูู ุงููุฑูุฎุ',
              options: ['ุฅููุฑุณุช', 'ุฃููููุจูุณ ูููุณ', 'ูุงูุณููู ูููุชุณ', 'ูููุช ุจูุงูู'],
              answer: 1
            },
            {
              question: 'ูู ุนุฏุฏ ุฃููุงุฑ ุงููุฑูุฎุ',
              options: ['ูุง ููุฌุฏ', 'ููุฑ ูุงุญุฏ', 'ููุฑุงู', 'ุซูุงุซุฉ ุฃููุงุฑ'],
              answer: 2
            }
          ],
          badge: 'ุฎุจูุฑ ุงููุฑูุฎ'
        },
        {
          id: 'jupiter',
          name: 'ุงููุดุชุฑู',
          color: '#C88B3A',
          facts: [
            'ุฃูุจุฑ ููุงูุจ ุงููุฌููุนุฉ ุงูุดูุณูุฉ',
            'ูููุจ ุบุงุฒู ุนููุงู ูููู ุฃุณุงุณุงู ูู ุงูููุฏุฑูุฌูู ูุงููููููู',
            'ูุญุชูู ุนูู ุงูุจูุนุฉ ุงูุญูุฑุงุก ุงูุนุธููุฉุ ููู ุนุงุตูุฉ ูุณุชูุฑุฉ ููุฐ ูุฆุงุช ุงูุณููู',
            'ูู ุฃูุซุฑ ูู 79 ููุฑุงู ูุนุฑููุงู'
          ],
          questions: [
            {
              question: 'ูุง ูู ุฃูุจุฑ ููุงูุจ ุงููุฌููุนุฉ ุงูุดูุณูุฉุ',
              options: ['ุงูุฃุฑุถ', 'ุงููุดุชุฑู', 'ุฒุญู', 'ูุจุชูู'],
              answer: 1
            },
            {
              question: 'ูุงุฐุง ุชูุณูู ุงูุนุงุตูุฉ ุงููุจูุฑุฉ ุงููุณุชูุฑุฉ ุนูู ูููุจ ุงููุดุชุฑูุ',
              options: ['ุงูุนูู ุงููุจุฑู', 'ุงูุจูุนุฉ ุงูุญูุฑุงุก ุงูุนุธููุฉ', 'ุงูุฏูุงูุฉ ุงูุบุงุฒูุฉ', 'ุงูุฅุนุตุงุฑ ุงูุฏุงุฆู'],
              answer: 1
            },
            {
              question: 'ูู ูุชููู ูููุจ ุงููุดุชุฑู ุจุดูู ุฃุณุงุณูุ',
              options: ['ุตุฎูุฑ ูุญุฏูุฏ', 'ููุฏุฑูุฌูู ููููููู', 'ูุงุก ูุฌููุฏ', 'ูุฑุจูู ูุฃูุณุฌูู'],
              answer: 1
            }
          ],
          badge: 'ูุณุชูุดู ุงููุดุชุฑู'
        },
        {
          id: 'saturn',
          name: 'ุฒุญู',
          color: '#E3CD81',
          facts: [
            'ูุชููุฒ ุจุญููุงุชู ุงูุฌูููุฉ ุงูููููุฉ ูู ุฌููุฏ ูุตุฎูุฑ',
            'ุซุงูู ุฃูุจุฑ ููุงูุจ ุงููุฌููุนุฉ ุงูุดูุณูุฉ',
            'ูุซุงูุชู ุฃูู ูู ูุซุงูุฉ ุงููุงุก (ููููู ุงูุทูู ูู ุญูุถ ูุงุก ูุจูุฑ ุจูุง ูููู)',
            'ูู ุฃูุซุฑ ูู 80 ููุฑุงูุ ุฃูุจุฑูุง ุชูุชุงู'
          ],
          questions: [
            {
              question: 'ูู ุชุชููู ุญููุงุช ุฒุญูุ',
              options: ['ุบุงุฒุงุช ููููุฉ', 'ุฌููุฏ ูุตุฎูุฑ', 'ูุนุงุฏู ุซูููุฉ', 'ุบุจุงุฑ ูุฌูู'],
              answer: 1
            },
            {
              question: 'ูุง ูู ุฃูุจุฑ ุฃููุงุฑ ุฒุญูุ',
              options: ['ุชูุชุงู', 'ุฃูุฑูุจุง', 'ุบุงููููุฏ', 'ุชุฑูุชูู'],
              answer: 0
            },
            {
              question: 'ูุง ูู ุฎุงุตูุฉ ุฒุญู ุงููุฑูุฏุฉ ุงููุชุนููุฉ ุจูุซุงูุชูุ',
              options: ['ุฃุซูู ูู ุงูุฑุตุงุต', 'ููููู ุงูุทูู ุนูู ุงููุงุก', 'ูุซุงูุชู ูุชุบูุฑุฉ', 'ุฃูุซุฑ ูุซุงูุฉ ูู ุงูุฃุฑุถ'],
              answer: 1
            }
          ],
          badge: 'ุณูุฏ ุญููุงุช ุฒุญู'
        },
        {
          id: 'uranus',
          name: 'ุฃูุฑุงููุณ',
          color: '#93C6D6',
          facts: [
            'ูููู ุนูู ุฌุงูุจู ุจุฒุงููุฉ 98 ุฏุฑุฌุฉ ุชูุฑูุจุงู',
            'ูู 27 ููุฑุงู ูุนุฑููุงู',
            'ูุชููุฒ ุจูููู ุงูุฃุฒุฑู ุงููุฎุถุฑ ุจุณุจุจ ุบุงุฒ ุงูููุซุงู',
            'ูุณุชุบุฑู 84 ุณูุฉ ุฃุฑุถูุฉ ููููู ุฏูุฑุฉ ูุงุญุฏุฉ ุญูู ุงูุดูุณ'
          ],
          questions: [
            {
              question: 'ูุง ุงูุฐู ูููุฒ ูุญูุฑ ุฏูุฑุงู ุฃูุฑุงููุณุ',
              options: ['ูุฏูุฑ ุจุดูู ุนููุฏู', 'ูููู ุนูู ุฌุงูุจู', 'ูุฏูุฑ ุจุดูู ูุนุงูุณ', 'ูุง ูุฏูุฑ ุญูู ููุณู'],
              answer: 1
            },
            {
              question: 'ูุง ุณุจุจ ุงูููู ุงูุฃุฒุฑู ุงููุฎุถุฑ ููููุจ ุฃูุฑุงููุณุ',
              options: ['ุงูุนูุงุณ ุงูููุงู', 'ุบุงุฒ ุงูููุซุงู', 'ุบุงุฒ ุงูุฃูุณุฌูู', 'ุบุจุงุฑ ูุถุงุฆู'],
              answer: 1
            },
            {
              question: 'ูู ุณูุฉ ุฃุฑุถูุฉ ูุณุชุบุฑู ุฃูุฑุงููุณ ููููู ุฏูุฑุฉ ุญูู ุงูุดูุณุ',
              options: ['30 ุณูุฉ', '50 ุณูุฉ', '84 ุณูุฉ', '100 ุณูุฉ'],
              answer: 2
            }
          ],
          badge: 'ููุชุดู ุฃูุฑุงููุณ'
        },        
        {
          id: 'neptune',
          name: 'ูุจุชูู',
          color: '#3E66A3',
          facts: [
            'ุฃุจุนุฏ ูููุจ ูู ุงููุฌููุนุฉ ุงูุดูุณูุฉ',
            'ูุญุชูู ุนูู ุฃููู ุฑูุงุญ ูู ุงููุฌููุนุฉ ุงูุดูุณูุฉ ุชุตู ุณุฑุนุชูุง ุฅูู 2100 ูู/ุณุงุนุฉ',
            'ุงูุชูุดู ุนุงู 1846 ุจูุงุกู ุนูู ุญุณุงุจุงุช ุฑูุงุถูุฉ',
            'ูู 14 ููุฑุงู ูุนุฑููุงูุ ุฃูุจุฑูุง ุชุฑูุชูู'
          ],
          questions: [
            {
              question: 'ูุง ูู ุชุฑุชูุจ ูููุจ ูุจุชูู ูู ุงูุดูุณุ',
              options: ['ุงูุณุงุฏุณ', 'ุงูุณุงุจุน', 'ุงูุซุงูู', 'ุงูุชุงุณุน'],
              answer: 2
            },
            {
              question: 'ุจูุงุฐุง ูุชููุฒ ุงูุทูุณ ุนูู ูููุจ ูุจุชููุ',
              options: ['ูุงุฏุฆ ุฌุฏุงู', 'ุฃููู ุฑูุงุญ ูู ุงููุฌููุนุฉ ุงูุดูุณูุฉ', 'ุฃูุทุงุฑ ูู ุงููุงุณ', 'ุนูุงุตู ุฑูููุฉ'],
              answer: 1
            },
            {
              question: 'ููู ุชู ุงูุชุดุงู ูููุจ ูุจุชููุ',
              options: ['ุจุงูุตุฏูุฉ', 'ุจูุงุกู ุนูู ุญุณุงุจุงุช ุฑูุงุถูุฉ', 'ูู ุฎูุงู ุงููุฑุงูุจุฉ ุงููุจุงุดุฑุฉ', 'ูู ุฎูุงู ุฅุดุงุฑุงุช ุฑุงุฏูููุฉ'],
              answer: 1
            }
          ],
          badge: 'ุณูุฏ ูุจุชูู'
        }
      ];

      // ูุชุบูุฑุงุช ุนุงูุฉ
      let playerName = '';
      let totalScore = 0;
      let discoveredPlanets = 0;
      let earnedBadges = [];
      let currentPlanet = null;
      let currentAnswers = [];

      // ุฅูุดุงุก ุงููุฌูู ูู ุงูุฎูููุฉ
      function createStars() {
        const starsContainer = document.getElementById('stars');
        const starsCount = 200;

        for (let i = 0; i < starsCount; i++) {
          const star = document.createElement('div');
          star.classList.add('star');

          // ุญุฌู ุนุดูุงุฆู
          const size = Math.random() * 3;
          star.style.width = `${size}px`;
          star.style.height = `${size}px`;

          // ูููุน ุนุดูุงุฆู
          const left = Math.random() * 100;
          const top = Math.random() * 100;
          star.style.left = `${left}%`;
          star.style.top = `${top}%`;

          // ุชุฃุฎูุฑ ุนุดูุงุฆู ูููููุถ
          star.style.animationDelay = `${Math.random() * 5}s`;

          starsContainer.appendChild(star);
        }
      }

      // ุฅูุดุงุก ุจุทุงูุงุช ุงูููุงูุจ
      function createPlanetCards() {
        const container = document.querySelector('#planet-selection .grid');
        container.innerHTML = '';

        planets.forEach(planet => {
          const card = document.createElement('div');
          card.classList.add('planet-card', 'bg-blue-900', 'bg-opacity-20', 'rounded-xl', 'p-4', 'text-center', 'cursor-pointer');
          card.dataset.planetId = planet.id;

          // ุงูุชุญูู ููุง ุฅุฐุง ูุงู ุงููููุจ ููุชุดูุงู
          const isDiscovered = earnedBadges.some(badge => badge.planetId === planet.id);

          card.innerHTML = `
            <div class="relative">
              <svg class="w-32 h-32 mx-auto planet-animation" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                <circle cx="100" cy="100" r="80" fill="${planet.color}" />
                ${getPlanetDetails(planet.id)}
              </svg>
              ${isDiscovered ? `
                <div class="absolute top-0 right-0 bg-green-500 rounded-full p-1">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                </div>
              ` : ''}
            </div>
            <h3 class="text-xl font-bold mt-4 text-blue-300">${planet.name}</h3>
          `;

          card.addEventListener('click', () => selectPlanet(planet.id));
          container.appendChild(card);
        });
      }

      // ุงูุญุตูู ุนูู ุชูุงุตูู ุฑุณู ุงููููุจ
      function getPlanetDetails(planetId) {
        switch(planetId) {
          case 'mercury':
            return `
              <circle cx="70" cy="80" r="10" fill="#8A8A8A" />
              <circle cx="120" cy="70" r="15" fill="#8A8A8A" />
            `;
          case 'venus':
            return `
              <circle cx="70" cy="80" r="15" fill="#D6A55C" />
              <circle cx="130" cy="90" r="20" fill="#D6A55C" />
              <circle cx="90" cy="130" r="12" fill="#D6A55C" />
            `;
          case 'earth':
            return `
              <path d="M60,80 Q100,40 140,80 Q100,120 60,80" fill="#2E7D32" />
              <path d="M60,120 Q100,80 140,120 Q100,160 60,120" fill="#2E7D32" />
              <circle cx="150" cy="70" r="10" fill="#CCCCCC" />
            `;
          case 'mars':
            return `
              <circle cx="70" cy="70" r="15" fill="#C25B41" />
              <circle cx="130" cy="80" r="20" fill="#C25B41" />
              <circle cx="60" cy="40" r="5" fill="#DDDDDD" />
              <circle cx="140" cy="40" r="3" fill="#DDDDDD" />
            `;
          case 'jupiter':
            return `
              <ellipse cx="100" cy="70" rx="70" ry="10" fill="#A67B30" />
              <ellipse cx="100" cy="90" rx="70" ry="10" fill="#8B5E26" />
              <ellipse cx="100" cy="110" rx="70" ry="10" fill="#A67B30" />
              <circle cx="130" cy="80" r="15" fill="#8B5E26" />
            `;
          case 'saturn':
            return `
              <ellipse cx="100" cy="100" rx="95" ry="20" fill="transparent" stroke="#D6BC74" stroke-width="10" />
              <circle cx="70" cy="80" r="10" fill="#D6BC74" />
              <circle cx="130" cy="90" r="15" fill="#D6BC74" />
            `;
          case 'uranus':
            return `
              <ellipse cx="100" cy="100" rx="85" ry="15" fill="transparent" stroke="#7EB6C6" stroke-width="5" />
              <circle cx="70" cy="80" r="10" fill="#7EB6C6" />
              <circle cx="130" cy="90" r="15" fill="#7EB6C6" />
            `;
          case 'neptune':
            return `
              <circle cx="70" cy="80" r="15" fill="#2E56A3" />
              <circle cx="130" cy="90" r="20" fill="#2E56A3" />
              <path d="M50,100 Q100,120 150,100" fill="none" stroke="#1E3E8A" stroke-width="5" />
            `;
          default:
            return '';
        }
      }

      // ุฅูุดุงุก ุดุงุฑุงุช
      function createBadges() {
        const container = document.getElementById('badges-container');
        container.innerHTML = '';

        if (earnedBadges.length === 0) {
          container.innerHTML = '<p class="text-blue-200">ูู ุชุญุตู ุนูู ุฃู ุดุงุฑุงุช ุจุนุฏ. ุงุณุชูุดู ุงูููุงูุจ ููุญุตูู ุนูู ุดุงุฑุงุช!</p>';
          return;
        }

        earnedBadges.forEach(badge => {
          const badgeEl = document.createElement('div');
          badgeEl.classList.add('badge', 'bg-blue-800', 'bg-opacity-50', 'rounded-lg', 'p-3', 'text-center');

          const planet = planets.find(p => p.id === badge.planetId);

          badgeEl.innerHTML = `
            <svg class="w-16 h-16 mx-auto" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
              <circle cx="50" cy="50" r="45" fill="${planet.color}" />
              <polygon points="50,5 61,40 97,40 68,62 79,97 50,75 21,97 32,62 3,40 39,40" fill="gold" fill-opacity="0.7" />
              <circle cx="50" cy="50" r="20" fill="${planet.color}" stroke="gold" stroke-width="2" />
            </svg>
            <p class="text-sm mt-2 text-blue-200">${badge.name}</p>
          `;

          container.appendChild(badgeEl);
        });
      }

      // ุงุฎุชูุงุฑ ูููุจ
      function selectPlanet(planetId) {
        currentPlanet = planets.find(planet => planet.id === planetId);

        // ุนุฑุถ ุงุณู ุงููููุจ
        document.getElementById('planet-name').textContent = currentPlanet.name;

        // ุนุฑุถ ุตูุฑุฉ ุงููููุจ
        const planetImage = document.getElementById('planet-image');
        planetImage.innerHTML = `
          <svg class="w-full h-full" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
            <circle cx="100" cy="100" r="80" fill="${currentPlanet.color}" />
            ${getPlanetDetails(currentPlanet.id)}
          </svg>
        `;

        // ุนุฑุถ ุญูุงุฆู ุงููููุจ
        const factsContainer = document.getElementById('planet-facts');
        factsContainer.innerHTML = '';

        currentPlanet.facts.forEach(fact => {
          const factEl = document.createElement('div');
          factEl.classList.add('bg-blue-800', 'bg-opacity-40', 'rounded-lg', 'p-3');
          factEl.innerHTML = `
            <div class="flex items-start">
              <span class="text-yellow-300 mr-2">โ</span>
              <p>${fact}</p>
            </div>
          `;
          factsContainer.appendChild(factEl);
        });

        // ุฅูุดุงุก ุงูุฃุณุฆูุฉ
        createQuestions();

        // ุฅุธูุงุฑ ุดุงุดุฉ ุงููููุจ
        document.getElementById('planet-selection').classList.add('hidden');
        document.getElementById('planet-screen').classList.remove('hidden');
      }

      // ุฅูุดุงุก ุงูุฃุณุฆูุฉ
      function createQuestions() {
        const quizContainer = document.getElementById('quiz-container');
        quizContainer.innerHTML = '';
        currentAnswers = [];

        currentPlanet.questions.forEach((question, qIndex) => {
          const questionEl = document.createElement('div');
          questionEl.classList.add('question-container');

          let optionsHTML = '';
          question.options.forEach((option, oIndex) => {
            optionsHTML += `
              <div class="option bg-blue-800 bg-opacity-30 rounded-lg p-3 cursor-pointer transition-all duration-300" data-question="${qIndex}" data-option="${oIndex}">
                <div class="flex items-center">
                  <div class="w-6 h-6 rounded-full border-2 border-blue-300 mr-3 flex items-center justify-center option-circle">
                    <div class="option-inner hidden w-3 h-3 rounded-full bg-blue-300"></div>
                  </div>
                  <span>${option}</span>
                </div>
              </div>
            `;
          });

          questionEl.innerHTML = `
            <h4 class="text-xl mb-4">${qIndex + 1}. ${question.question}</h4>
            <div class="space-y-3">
              ${optionsHTML}
            </div>
          `;

          quizContainer.appendChild(questionEl);
          currentAnswers.push(null);
        });

        // ุฅุถุงูุฉ ูุณุชูุนู ุงูุฃุญุฏุงุซ ููุฎูุงุฑุงุช
        document.querySelectorAll('.option').forEach(option => {
          option.addEventListener('click', selectOption);
        });
      }

      // ุงุฎุชูุงุฑ ุฅุฌุงุจุฉ
      function selectOption(e) {
        const option = e.currentTarget;
        const questionIndex = parseInt(option.dataset.question);
        const optionIndex = parseInt(option.dataset.option);

        // ุฅุฒุงูุฉ ุงูุชุญุฏูุฏ ูู ุฌููุน ุงูุฎูุงุฑุงุช ูู ููุณ ุงูุณุคุงู
        const questionOptions = document.querySelectorAll(`.option[data-question="${questionIndex}"]`);
        questionOptions.forEach(opt => {
          opt.classList.remove('bg-blue-600');
          opt.querySelector('.option-inner').classList.add('hidden');
        });

        // ุชุญุฏูุฏ ุงูุฎูุงุฑ ุงููุฎุชุงุฑ
        option.classList.add('bg-blue-600');
        option.querySelector('.option-inner').classList.remove('hidden');

        // ุชุฎุฒูู ุงูุฅุฌุงุจุฉ
        currentAnswers[questionIndex] = optionIndex;
      }

      // ุงูุชุญูู ูู ุงูุฅุฌุงุจุงุช
      function checkAnswers() {
        // ุงูุชุญูู ูู ุฃู ุฌููุน ุงูุฃุณุฆูุฉ ุชูุช ุงูุฅุฌุงุจุฉ ุนูููุง
        if (currentAnswers.includes(null)) {
          alert('ุงูุฑุฌุงุก ุงูุฅุฌุงุจุฉ ุนูู ุฌููุน ุงูุฃุณุฆูุฉ');
          return;
        }

        let correctCount = 0;

        currentPlanet.questions.forEach((question, index) => {
          if (currentAnswers[index] === question.answer) {
            correctCount++;
          }
        });

        // ุฅุถุงูุฉ ุงูููุงุท
        const pointsEarned = correctCount * 10;
        totalScore += pointsEarned;

        // ุชุญุฏูุซ ุงูุนุฑุถ
        document.getElementById('score-display').textContent = totalScore;
        document.getElementById('planet-score-display').textContent = `ุงูููุงุท: ${totalScore}`;

        // ุฅุธูุงุฑ ูุงูุฐุฉ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ
        showCorrectPopup(correctCount, currentPlanet.questions.length);

        // ุฅุถุงูุฉ ุงูุดุงุฑุฉ ุฅุฐุง ูุงูุช ุฌููุน ุงูุฅุฌุงุจุงุช ุตุญูุญุฉ
        if (correctCount === currentPlanet.questions.length) {
          const alreadyHasBadge = earnedBadges.some(badge => badge.planetId === currentPlanet.id);

          if (!alreadyHasBadge) {
            earnedBadges.push({
              planetId: currentPlanet.id,
              name: currentPlanet.badge
            });

            discoveredPlanets++;
            updateProgressBar();
          }
        }
      }

      // ุฅุธูุงุฑ ูุงูุฐุฉ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ
      function showCorrectPopup(correctCount, totalQuestions) {
        const popup = document.getElementById('correct-popup');
        const heading = popup.querySelector('h3');
        const message = popup.querySelector('p');

        if (correctCount === totalQuestions) {
          heading.textContent = 'ููุชุงุฒ!';
          message.textContent = `ููุฏ ุฃุฌุจุช ุนูู ุฌููุน ุงูุฃุณุฆูุฉ ุจุดูู ุตุญูุญ ูุญุตูุช ุนูู ${correctCount * 10} ููุทุฉ!`;

          // ุฅุถุงูุฉ ุชุฃุซูุฑุงุช ุงูุฃูุนุงุจ ุงููุงุฑูุฉ
          createFireworks(popup);
        } else if (correctCount > 0) {
          heading.textContent = 'ุฌูุฏ!';
          message.textContent = `ููุฏ ุฃุฌุจุช ุนูู ${correctCount} ูู ${totalQuestions} ุฃุณุฆูุฉ ุจุดูู ุตุญูุญ ูุญุตูุช ุนูู ${correctCount * 10} ููุทุฉ.`;
        } else {
          heading.textContent = 'ุญุงูู ูุฑุฉ ุฃุฎุฑู';
          message.textContent = 'ูู ุชุฌุจ ุนูู ุฃู ุณุคุงู ุจุดูู ุตุญูุญ. ุญุงูู ูุฑุฉ ุฃุฎุฑู!';
        }

        popup.classList.remove('hidden');
      }

      // ุฅูุดุงุก ุชุฃุซูุฑุงุช ุงูุฃูุนุงุจ ุงููุงุฑูุฉ
      function createFireworks(container) {
        for (let i = 0; i < 10; i++) {
          setTimeout(() => {
            const firework = document.createElement('div');
            firework.classList.add('firework');

            // ููู ุนุดูุงุฆู
            const colors = ['#FF5252', '#FFEB3B', '#2196F3', '#4CAF50', '#E040FB'];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            firework.style.backgroundColor = randomColor;

            // ูููุน ุนุดูุงุฆู
            const x = 100 + Math.random() * 300 - 150;
            const y = 100 + Math.random() * 200 - 100;
            firework.style.left = `${x}px`;
            firework.style.top = `${y}px`;

            container.appendChild(firework);

            // ุฅุฒุงูุฉ ุงูุนูุตุฑ ุจุนุฏ ุงูุชูุงุก ุงูุฑุณูู ุงููุชุญุฑูุฉ
            setTimeout(() => {
              firework.remove();
            }, 1000);
          }, i * 200);
        }
      }

      // ุฅุธูุงุฑ ูุงูุฐุฉ ุงูุดุงุฑุฉ ุงูุฌุฏูุฏุฉ
      function showBadgePopup() {
        if (earnedBadges.length === 0) return;

        const latestBadge = earnedBadges[earnedBadges.length - 1];
        const planet = planets.find(p => p.id === latestBadge.planetId);

        const popup = document.getElementById('badge-popup');
        const badgeImage = document.getElementById('badge-image');
        const badgeName = document.getElementById('badge-name');

        badgeImage.innerHTML = `
          <svg class="w-full h-full" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
            <circle cx="50" cy="50" r="45" fill="${planet.color}" />
            <polygon points="50,5 61,40 97,40 68,62 79,97 50,75 21,97 32,62 3,40 39,40" fill="gold" fill-opacity="0.7" />
            <circle cx="50" cy="50" r="20" fill="${planet.color}" stroke="gold" stroke-width="2" />
          </svg>
        `;

        badgeName.textContent = latestBadge.name;
        popup.classList.remove('hidden');
      }

      // ุชุญุฏูุซ ุดุฑูุท ุงูุชูุฏู
      function updateProgressBar() {
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');

        const percentage = (discoveredPlanets / planets.length) * 100;
        progressBar.style.width = `${percentage}%`;
        progressText.textContent = `${discoveredPlanets}/${planets.length} ููุงูุจ ููุชุดูุฉ`;

        // ุงูุชุญูู ูู ุงูุชูุงู ุฌููุน ุงูููุงูุจ
        if (discoveredPlanets === planets.length) {
          setTimeout(() => {
            showFinalScreen();
          }, 1500);
        }
      }

      // ุฅุธูุงุฑ ุงูุดุงุดุฉ ุงูููุงุฆูุฉ
      function showFinalScreen() {
        document.getElementById('planet-selection').classList.add('hidden');
        document.getElementById('planet-screen').classList.add('hidden');

        document.getElementById('certificate-name').textContent = playerName;
        document.getElementById('final-score').textContent = totalScore;

        document.getElementById('final-screen').classList.remove('hidden');

        // ุฅุถุงูุฉ ุชุฃุซูุฑุงุช ุงูุฃูุนุงุจ ุงููุงุฑูุฉ
        createFinalFireworks();
      }

      // ุฅูุดุงุก ุชุฃุซูุฑุงุช ุงูุฃูุนุงุจ ุงููุงุฑูุฉ ููุดุงุดุฉ ุงูููุงุฆูุฉ
      function createFinalFireworks() {
        const container = document.getElementById('final-screen');

        for (let i = 0; i < 20; i++) {
          setTimeout(() => {
            const firework = document.createElement('div');
            firework.classList.add('firework');

            // ููู ุนุดูุงุฆู
            const colors = ['#FF5252', '#FFEB3B', '#2196F3', '#4CAF50', '#E040FB', '#FFC107', '#00BCD4'];
            const randomColor = colors[Math.floor(Math.random() * colors.length)];
            firework.style.backgroundColor = randomColor;

            // ูููุน ุนุดูุงุฆู
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight;
            firework.style.left = `${x}px`;
            firework.style.top = `${y}px`;

            container.appendChild(firework);

            // ุฅุฒุงูุฉ ุงูุนูุตุฑ ุจุนุฏ ุงูุชูุงุก ุงูุฑุณูู ุงููุชุญุฑูุฉ
            setTimeout(() => {
              firework.remove();
            }, 1000);
          }, i * 300);
        }
      }

      // ุฅุนุงุฏุฉ ุชุนููู ุงููุนุจุฉ
      function resetGame() {
        playerName = document.getElementById('player-name').value || 'ูุณุชูุดู ูุฌููู';
        totalScore = 0;
        discoveredPlanets = 0;
        earnedBadges = [];
        currentPlanet = null;
        currentAnswers = [];

        document.getElementById('player-display').textContent = `ุงููุณุชูุดู: ${playerName}`;
        document.getElementById('score-display').textContent = '0';

        updateProgressBar();
        createPlanetCards();
        createBadges();

        document.getElementById('main-menu').classList.add('hidden');
        document.getElementById('planet-selection').classList.remove('hidden');
        document.getElementById('planet-screen').classList.add('hidden');
        document.getElementById('final-screen').classList.add('hidden');
      }

      // ุชููุฆุฉ ุงููุนุจุฉ
      function initGame() {
        createStars();

        // ุฃุฒุฑุงุฑ ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ
        document.getElementById('start-btn').addEventListener('click', () => {
          playerName = document.getElementById('player-name').value || 'ูุณุชูุดู ูุฌููู';
          resetGame();
        });

        // ุฒุฑ ุงูุชุญูู ูู ุงูุฅุฌุงุจุงุช
        document.getElementById('submit-answers').addEventListener('click', checkAnswers);

        // ุฒุฑ ุงูุนูุฏุฉ ููุงุฆูุฉ ุงูููุงูุจ
        document.getElementById('back-to-selection').addEventListener('click', () => {
          document.getElementById('planet-screen').classList.add('hidden');
          document.getElementById('planet-selection').classList.remove('hidden');
          createPlanetCards();
          createBadges();
        });

        // ุฒุฑ ุงูุงุณุชูุฑุงุฑ ุจุนุฏ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ
        document.getElementById('continue-btn').addEventListener('click', () => {
          document.getElementById('correct-popup').classList.add('hidden');

          // ุงูุชุญูู ูู ูุฌูุฏ ุดุงุฑุฉ ุฌุฏูุฏุฉ
          const hasBadge = earnedBadges.some(badge => badge.planetId === currentPlanet.id);
          if (hasBadge) {
            showBadgePopup();
          } else {
            document.getElementById('planet-screen').classList.add('hidden'); 
            document.getElementById('planet-selection').classList.remove('hidden');
            createPlanetCards(); 
            createBadges(); 
          }
        });

        // ุฒุฑ ุงูุงุณุชูุฑุงุฑ ุจุนุฏ ุงูุดุงุฑุฉ
        document.getElementById('badge-continue-btn').addEventListener('click', () => {
          document.getElementById('badge-popup').classList.add('hidden');
          document.getElementById('planet-screen').classList.add('hidden');
          document.getElementById('planet-selection').classList.remove('hidden');
          createPlanetCards();
          createBadges();
        });

        // ุฒุฑ ุงููุนุจ ูุฑุฉ ุฃุฎุฑู
        document.getElementById('play-again').addEventListener('click', () => {
          document.getElementById('final-screen').classList.add('hidden');
          document.getElementById('main-menu').classList.remove('hidden');
        });
      }

      // ุจุฏุก ุงููุนุจุฉ
      window.addEventListener('DOMContentLoaded', initGame);
    </script>
    <!-- ====================== END SCIENCE GAME CODE ====================== -->
  </template>

  <!-- Math game (Magic Multiplication) โ Entire original markup/css/js lives here -->
  <template id="mathTpl">
    <!-- ููููู ููุง ูุตู ููุฏ ูุนุจุฉ ุงูุฑูุงุถูุงุช ุจุงููุงูู ุจููุณ ุทุฑููุฉ ุงููุงูุจ ุฃุนูุงู -->
    <div class="fade text-center font-medium text-gray-700">
      ๐๏ธ ูุนุจุฉ ุงูุฑูุงุถูุงุช ุณุชูุถุงู ูุฑูุจูุงโฆ
    </div>
  </template>

  <!-- Arabic & English placeholder lists -->
  <template id="arabicTpl">
    <div class="text-center text-2xl font-bold mt-20">
      ๐๏ธ ุณูุชู ุฅุถุงูุฉ ุฃูุนุงุจ ุงููุบุฉ ุงูุนุฑุจูุฉ ูุงุญููุงโฆ
    </div>
  </template>
  <template id="englishTpl">
    <div class="text-center text-2xl font-bold mt-20">
      ๐๏ธ English Language games coming soonโฆ
    </div>
  </template>

  <!-- Add-Your-Game form -->
  <template id="addTpl">
    <section class="max-w-3xl mx-auto bg-white shadow rounded p-6 fade">
      <h2 class="text-2xl font-bold mb-4" data-i18n="addGameHeading">ุฃุถู ูุนุจุชู</h2>
      <div class="space-y-4">
        <label class="block">
          <span class="font-semibold" data-i18n="codeLabel">ุงูุตู ููุฏ HTML/JS ููุง:</span>
          <textarea id="userCode" class="w-full h-40 p-2 mt-2 border rounded font-mono text-sm"></textarea>
        </label>
        <label class="block">
          <span class="font-semibold" data-i18n="subjectLabel">ุงุฎุชุฑ ุงููุงุฏุฉ:</span>
          <select id="userSubject" class="mt-2 border rounded px-2 py-1">
            <option value="science" data-i18n="science">ุงูุนููู</option>
            <option value="math" data-i18n="math">ุงูุฑูุงุถูุงุช</option>
            <option value="arabic" data-i18n="arabic">ุงููุบุฉ ุงูุนุฑุจูุฉ</option>
            <option value="english" data-i18n="english">ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ</option>
          </select>
        </label>
        <button id="saveGame" class="px-4 py-2 bg-blue-600 text-white rounded" data-i18n="saveBtn">ุญูุธ ุงููุนุจุฉ</button>
      </div>
    </section>
  </template>

  <!--  Modal for YouTube videos (shared) -->
  <div id="ytModal" class="fixed inset-0 bg-black/60 hidden items-center justify-center z-50">
    <div class="bg-white w-full md:w-[80%] lg:w-[60%] aspect-video relative rounded shadow">
      <button id="closeYT" class="absolute -top-4 -right-4 bg-red-600 text-white w-8 h-8 rounded-full">โ</button>
      <iframe id="ytFrame" class="w-full h-full rounded" src="" allowfullscreen></iframe>
    </div>
  </div>

  <!-- โฌโฌโฌโฌโฌ Main Controller โ JS โฌโฌโฌโฌโฌ -->
  <script>
    // ๐ Simple i18n
    const strings = {
      ar:{science:'ุงูุนููู',math:'ุงูุฑูุงุถูุงุช',arabic:'ุงููุบุฉ ุงูุนุฑุจูุฉ',english:'ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ',addGame:'ุฃุถู ูุนุจุชู',addGameHeading:'ุฃุถู ูุนุจุชู',codeLabel:'ุงูุตู ููุฏ HTML/JS ููุง:',subjectLabel:'ุงุฎุชุฑ ุงููุงุฏุฉ:',saveBtn:'ุญูุธ ุงููุนุจุฉ',moreInfo:'ูุนูููุงุช ุฅุถุงููุฉ'},
      en:{science:'Science',math:'Mathematics',arabic:'Arabic Language',english:'English Language',addGame:'Add Your Game',addGameHeading:'Add Your Game',codeLabel:'Paste HTML/JS code here:',subjectLabel:'Choose subject:',saveBtn:'Save game',moreInfo:'More Info'}
    };
    let lang = 'ar';
    const content = document.getElementById('content');
    function translatePage(){
      document.documentElement.lang = lang;
      document.documentElement.dir = (lang==='ar')?'rtl':'ltr';
      document.getElementById('langToggle').textContent = (lang==='ar')?'English':'ุงูุนุฑุจูุฉ';
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.getAttribute('data-i18n');
        el.textContent = strings[lang][key]||key;
      });
    }
    document.getElementById('langToggle').onclick = ()=>{lang = (lang==='ar')?'en':'ar';translatePage();};
    translatePage();

    // ๐ Routing by subject buttons
    document.querySelectorAll('.subjectBtn').forEach(btn=>{
      btn.onclick = ()=>loadSection(btn.dataset.section);
    });
    function loadSection(sec){
      const map = {science:'scienceTpl',math:'mathTpl',arabic:'arabicTpl',english:'englishTpl',add:'addTpl'};
      const tpl = document.getElementById(map[sec]); if(!tpl) return;
      content.innerHTML = ''; content.appendChild(tpl.content.cloneNode(true));
      if(sec==='science'||sec==='math'){attachMoreInfoButton(sec);}    // attach YouTube button after game loads
      if(sec==='add'){bindAddForm();}
    }
    loadSection('science'); // default first load

    // ๐พ Add Your Game โ store in localStorage
    function bindAddForm(){
      const saveBtn = document.getElementById('saveGame');
      saveBtn.onclick = ()=>{
        const code = document.getElementById('userCode').value.trim();
        const subj = document.getElementById('userSubject').value;
        if(!code){alert('No code');return;}
        let list = JSON.parse(localStorage.getItem('userGames')||'{}');
        list[subj] = list[subj]||[]; list[subj].push(code);
        localStorage.setItem('userGames',JSON.stringify(list));
        alert(lang==='ar'? 'ุชู ุญูุธ ูุนุจุชู!' : 'Game saved!');
        document.getElementById('userCode').value='';
      }
    }

    // โถ๏ธ YouTube More Info
    function attachMoreInfoButton(sec){
      // create floating button top-right of main area
      const btn = document.createElement('button');
      btn.textContent = strings[lang].moreInfo;
      btn.className = 'fixed bottom-6 right-6 bg-red-600 text-white px-4 py-2 rounded-full shadow-lg';
      document.body.appendChild(btn);
      btn.onclick = ()=>{
        const q = (lang==='ar')? (sec==='science'? 'ููุงูุจ ุงููุฌููุนุฉ ุงูุดูุณูุฉ ููุฃุทูุงู' : 'ุชุนูู ุฌุฏูู ุงูุถุฑุจ ุจุทุฑููุฉ ุณููุฉ') : (sec==='science'? 'solar system planets for kids' : 'learn multiplication table for kids');
        fetchYT(q);
      };
      // clean up button when leaving section
      const obs = new MutationObserver(()=>{
        if(!content.contains(btn)){btn.remove(); obs.disconnect();}
      });
      obs.observe(content,{childList:true});
    }
    async function fetchYT(query){
      try{
        // Public unauth search via youtube search embed
        const embedURL = `https://www.youtube.com/embed?listType=search&list=${encodeURIComponent(query)}`;
        openYT(embedURL);
      }catch(e){console.error(e);}
    }
    function openYT(src){
      document.getElementById('ytFrame').src = src;
      document.getElementById('ytModal').classList.remove('hidden');
    }
    document.getElementById('closeYT').onclick = ()=>{
      document.getElementById('ytModal').classList.add('hidden');
      document.getElementById('ytFrame').src='';
    };
  </script>
</body>
</html>
